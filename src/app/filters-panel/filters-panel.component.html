<div class="filters-trigger" [class.open]="showPanel">
  <button class="filters-btn" type="button" aria-haspopup="true" [attr.aria-expanded]="showPanel" (click)="togglePanel()">
    Filters
  </button>

  <div class="filters-panel" role="menu" *ngIf="showPanel">
    <!-- Categories -->
    <section class="group">
      <h4>Categories</h4>
      <div class="btns">
        <button [class.active]="selectedCategory==='all'" (click)="onCategory('all')">All</button>
        <button *ngFor="let c of categories"
                [class.active]="selectedCategory===c"
                (click)="onCategory(c)">{{ c }}</button>
      </div>
    </section>

    <!-- Dietary Preferences (Tags) -->
    <section class="group">
      <h4>Dietary Preferences</h4>
      <div class="btns">
        <button [class.active]="selectedTag==='all'" (click)="onTag('all')">All</button>
        <button *ngFor="let t of tags"
                [class.active]="selectedTag===t"
                (click)="onTag(t)">{{ t }}</button>
      </div>
    </section>

    <!-- Taste sliders -->
    <section class="group two-col">
      <div class="taste-row spicy">
        <label>Spiciness <span class="taste-value">{{ selectedSpiciness }}</span></label>
        <div class="range-wrap" [style.--val]="selectedSpiciness">
          <input type="range" min="0" max="10" step="1" [(ngModel)]="selectedSpiciness" (input)="onSpicyChange()" />
          <output class="bubble">ğŸ”¥ {{ selectedSpiciness }}</output>
        </div>
      </div>
      <div class="taste-row sweet">
        <label>Sweetness <span class="taste-value">{{ selectedSweetness }}</span></label>
        <div class="range-wrap" [style.--val]="selectedSweetness">
          <input type="range" min="0" max="10" step="1" [(ngModel)]="selectedSweetness" (input)="onSweetChange()" />
          <output class="bubble">ğŸ¯ {{ selectedSweetness }}</output>
        </div>
      </div>
    </section>

    <!-- Salt selector -->
    <section class="group">
      <h4>Salt level</h4>
      <div class="salt-control" [ngClass]="'salt-' + selectedSalt">
        <div class="knob" aria-hidden="true"></div>
        <button type="button" class="salt-btn" [class.active]="selectedSalt==='less'" (click)="onSalt('less')">Salt: Less</button>
        <button type="button" class="salt-btn" [class.active]="selectedSalt==='medium'" (click)="onSalt('medium')">Salt: Medium</button>
        <button type="button" class="salt-btn" [class.active]="selectedSalt==='high'" (click)="onSalt('high')">Salt: High</button>
      </div>
    </section>
    <div class="panel-actions">
      <button type="button" class="btn-secondary" (click)="reset()">Reset</button>
      <button type="button" class="btn-primary" (click)="apply()">Apply</button>
    </div>
  </div>
</div>
